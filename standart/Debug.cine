proc debugMessage(predicate, message)
    attributes
        noInline
    rules
        final = predicate == Bool & message == [UInt8]
    flag debug is set?
        then if predicate
            then printLn("DEBUG: ", message)

proc debugMessage(message)
    attributes
        noInline
    rules
        final = message == [UInt8]
    flag debug is set?
        then printLn("DEBUG: ", message)
